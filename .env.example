# ========================================
# LLM Governance Dashboard - Environment Variables
# ========================================

# ============================================================================
# LLM Governance Dashboard - Environment Configuration
# ============================================================================
# Copy this file to .env and update with your actual values
# SECURITY: Never commit .env files with real credentials to version control
# ============================================================================

# ----------------------------------------
# Auth Service Configuration
# ----------------------------------------
AUTH_HOST=0.0.0.0
AUTH_PORT=8081
AUTH_DATABASE_URL=postgresql://postgres:password@localhost:5432/llm_governance
AUTH_REDIS_URL=redis://127.0.0.1:6379

# CRITICAL: Change this to a strong random secret in production!
# Generate with: openssl rand -base64 32
AUTH_JWT_SECRET=CHANGE_THIS_TO_A_STRONG_RANDOM_SECRET_IN_PRODUCTION
AUTH_JWT_EXPIRATION=3600
AUTH_REFRESH_TOKEN_EXPIRATION=2592000

# OAuth Configuration
AUTH_OAUTH_GOOGLE_CLIENT_ID=your-google-client-id
AUTH_OAUTH_GOOGLE_CLIENT_SECRET=your-google-client-secret
AUTH_OAUTH_GITHUB_CLIENT_ID=your-github-client-id
AUTH_OAUTH_GITHUB_CLIENT_SECRET=your-github-client-secret

# MFA Configuration
AUTH_MFA_ISSUER=LLM-Governance

# ----------------------------------------
# User Service Configuration
# ----------------------------------------
USER_SERVICE_HOST=0.0.0.0
USER_SERVICE_PORT=8082
USER_SERVICE_DATABASE_URL=postgresql://postgres:password@localhost:5432/llm_governance_users
USER_SERVICE_REDIS_URL=redis://127.0.0.1:6379

# ----------------------------------------
# Policy Service Configuration
# ----------------------------------------
POLICY_SERVICE_HOST=0.0.0.0
POLICY_SERVICE_PORT=8083
POLICY_SERVICE_DATABASE_URL=postgresql://postgres:password@localhost:5432/llm_governance_policies
POLICY_SERVICE_REDIS_URL=redis://127.0.0.1:6379

# ----------------------------------------
# Audit Service Configuration
# ----------------------------------------
AUDIT_SERVICE_HOST=0.0.0.0
AUDIT_SERVICE_PORT=8084
AUDIT_SERVICE_DATABASE_URL=postgresql://postgres:password@localhost:5432/llm_governance_audit
AUDIT_SERVICE_REDIS_URL=redis://127.0.0.1:6379

# ----------------------------------------
# Metrics Service Configuration
# ----------------------------------------
METRICS_SERVICE_HOST=0.0.0.0
METRICS_SERVICE_PORT=8085
METRICS_SERVICE_DATABASE_URL=postgresql://postgres:password@localhost:5432/llm_governance_metrics
METRICS_SERVICE_REDIS_URL=redis://127.0.0.1:6379

# TimescaleDB Configuration
METRICS_TIMESCALEDB_ENABLED=true

# ----------------------------------------
# Cost Service Configuration
# ----------------------------------------
COST_SERVICE_HOST=0.0.0.0
COST_SERVICE_PORT=8086
COST_SERVICE_DATABASE_URL=postgresql://postgres:password@localhost:5432/llm_governance_cost
COST_SERVICE_REDIS_URL=redis://127.0.0.1:6379

# ----------------------------------------
# API Gateway Configuration
# ----------------------------------------
API_GATEWAY_HOST=0.0.0.0
API_GATEWAY_PORT=8080
API_GATEWAY_DATABASE_URL=postgresql://postgres:password@localhost:5432/llm_governance_gateway
API_GATEWAY_REDIS_URL=redis://127.0.0.1:6379

# Rate Limiting
API_GATEWAY_RATE_LIMIT_REQUESTS=100
API_GATEWAY_RATE_LIMIT_WINDOW_SECONDS=60

# Service URLs
API_GATEWAY_AUTH_SERVICE_URL=http://localhost:8081
API_GATEWAY_USER_SERVICE_URL=http://localhost:8082
API_GATEWAY_POLICY_SERVICE_URL=http://localhost:8083
API_GATEWAY_AUDIT_SERVICE_URL=http://localhost:8084
API_GATEWAY_METRICS_SERVICE_URL=http://localhost:8085
API_GATEWAY_COST_SERVICE_URL=http://localhost:8086
API_GATEWAY_INTEGRATION_SERVICE_URL=http://localhost:8087

# ----------------------------------------
# Integration Service Configuration
# ----------------------------------------
INTEGRATION_SERVICE_HOST=0.0.0.0
INTEGRATION_SERVICE_PORT=8087
INTEGRATION_SERVICE_DATABASE_URL=postgresql://postgres:password@localhost:5432/llm_governance
INTEGRATION_SERVICE_REDIS_URL=redis://127.0.0.1:6379

# ----------------------------------------
# LLM Provider API Keys (Optional)
# ----------------------------------------
# NOTE: In multi-tenant deployments, API keys are configured per-organization
# via the web UI. These environment variables are only used for:
# - Default organization setup
# - System-level integrations
# - Development/testing
#
# Each organization can configure their own providers through the dashboard at:
# /organizations/{org_id}/providers

OPENAI_API_KEY=sk-your-openai-api-key
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key
AZURE_OPENAI_API_KEY=your-azure-openai-api-key
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
GOOGLE_AI_API_KEY=your-google-ai-api-key
COHERE_API_KEY=your-cohere-api-key
HUGGINGFACE_API_KEY=hf_your-huggingface-api-key

# ----------------------------------------
# Database Configuration (Shared)
# ----------------------------------------
# All services share a single PostgreSQL database with TimescaleDB extension
# Multi-tenancy is implemented at the application layer via organization_id
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USER=postgres
DATABASE_PASSWORD=CHANGE_THIS_SECURE_PASSWORD
DATABASE_NAME=llm_governance

# Database Pool Settings
DATABASE_MAX_CONNECTIONS=50
DATABASE_MIN_CONNECTIONS=5
DATABASE_ACQUIRE_TIMEOUT_SECONDS=30
DATABASE_IDLE_TIMEOUT_SECONDS=600

# ----------------------------------------
# Redis Configuration (Shared)
# ----------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ----------------------------------------
# Logging Configuration
# ----------------------------------------
RUST_LOG=info
LOG_LEVEL=info
LOG_FORMAT=json

# ----------------------------------------
# Security Configuration
# ----------------------------------------
BCRYPT_COST=12
ARGON2_MEMORY_COST=65536
ARGON2_TIME_COST=2
ARGON2_PARALLELISM=4

# ----------------------------------------
# Monitoring & Observability
# ----------------------------------------
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000

# OpenTelemetry
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_SERVICE_NAME=llm-governance-dashboard

# ----------------------------------------
# CORS Configuration
# ----------------------------------------
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization
CORS_MAX_AGE=3600

# ----------------------------------------
# Application Configuration
# ----------------------------------------
APP_NAME=LLM Governance Dashboard
APP_VERSION=1.0.0
APP_ENV=development

# ----------------------------------------
# Multi-Tenancy Configuration
# ----------------------------------------
# Default organization created on first startup
DEFAULT_ORG_NAME=Default Organization
DEFAULT_ORG_SLUG=default
DEFAULT_ADMIN_EMAIL=admin@example.com
DEFAULT_ADMIN_PASSWORD=Admin123!

# WARNING: Change default admin credentials immediately after first login!
